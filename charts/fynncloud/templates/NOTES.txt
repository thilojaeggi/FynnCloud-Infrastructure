â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    FynnCloud deployed!                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{{- if .Values.gateway.enabled }}

ğŸŒ Gateway API
   Gateway: {{ include "fynncloud.gateway.name" . }} ({{ .Values.gateway.gatewayClassName }})
   Get the gateway address:
     kubectl get gateway {{ include "fynncloud.gateway.name" . }} -n {{ .Release.Namespace }}

{{- if .Values.httpRoute.enabled }}
   HTTPRoute: {{ include "fynncloud.httpRoute.name" . }}
     kubectl get httproute {{ include "fynncloud.httpRoute.name" . }} -n {{ .Release.Namespace }}
{{- end }}
{{- else if .Values.httpRoute.enabled }}

ğŸŒ Gateway API (HTTPRoute only â€” using external Gateway)
   HTTPRoute: {{ include "fynncloud.httpRoute.name" . }}
   Get route status:
     kubectl get httproute {{ include "fynncloud.httpRoute.name" . }} -n {{ .Release.Namespace }}

{{- else if .Values.ingress.enabled }}

ğŸŒ Ingress (legacy)
   Get the ingress address:
     kubectl get ingress {{ include "fynncloud.fullname" . }} -n {{ .Release.Namespace }}

{{- range .Values.ingress.hosts }}
{{- if .host }}
   URL: http{{ if $.Values.ingress.tls }}s{{ end }}://{{ .host }}
{{- end }}
{{- end }}
{{- else }}

âš ï¸  No networking configured. To access FynnCloud, enable one of:
    - gateway.enabled + httpRoute.enabled  (recommended)
    - httpRoute.enabled (with external Gateway)
    - ingress.enabled (legacy)

   Or port-forward the services:
     Backend: kubectl port-forward svc/{{ include "fynncloud.fullname" . }}-backend {{ .Values.backend.service.port }}:{{ .Values.backend.service.port }} -n {{ .Release.Namespace }}
     Web:     kubectl port-forward svc/{{ include "fynncloud.fullname" . }}-web {{ .Values.web.service.port }}:{{ .Values.web.service.port }} -n {{ .Release.Namespace }}
{{- end }}

{{- if .Values.cnpg.enabled }}

âœ… CloudNativePG
   Cluster: {{ include "fynncloud.fullname" . }}-{{ .Values.cnpg.name }} ({{ .Values.cnpg.instances }} instances)

   âš ï¸  The CloudNativePG Operator must be installed in your cluster.
       See: https://cloudnative-pg.io/documentation/

   Connection:
     Service: {{ include "fynncloud.postgresql.host" . }}
     Secret:  {{ include "fynncloud.postgresql.secretName" . }}
{{- else if .Values.externalPostgresql.host }}

ğŸ“¦ External PostgreSQL
   Host: {{ .Values.externalPostgresql.host }}:{{ .Values.externalPostgresql.port }}
{{- end }}

âš ï¸  Remember to change default passwords before going to production:
    - backend.env.JWT_SECRET
